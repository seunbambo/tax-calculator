<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tax Calculator</title>
    <link rel="stylesheet" href="css/bootstrap.css" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body onload="myPageLoad()">
    <script>
      var federalTax = 0.05;
      var stateTax;
      var paye;
      var pension;
      var medicare;

      var fullname;
      var taxstate;

      var grossIncomeYearly;
      var grossIncomeMonthly;
      var grossIncomeWeekly;
      var grossIncomeDaily;

      var effectiveTaxRate;

      function getDeductions() {
        if (cbostate.value == "Arizona") {
          stateTax = 0.04;
          paye = 0.03;
          pension = 0.075;
          medicare = 0.065;
          effectiveTaxRate = federalTax + stateTax + paye + pension + medicare;

          document.getElementById("txtfederaltax").value = federalTax;
          document.getElementById("txtstatetax").value = stateTax;
          document.getElementById("txtpaye").value = paye;
          document.getElementById("txtpension").value = pension;
        } else if (cbostate.value == "Texas") {
          stateTax = 0.035;
          paye = 0.05;
          pension = 0.065;
          medicare = 0.055;
          effectiveTaxRate = federalTax + stateTax + paye + pension + medicare;

          document.getElementById("txtfederaltax").value = federalTax;
          document.getElementById("txtstatetax").value = stateTax;
          document.getElementById("txtpaye").value = paye;
          document.getElementById("txtpension").value = pension;
        } else if (cbostate.value == "New Jersey") {
          stateTax = 0.05;
          paye = 0.025;
          pension = 0.085;
          medicare = 0.045;
          effectiveTaxRate = federalTax + stateTax + paye + pension + medicare;

          document.getElementById("txtfederaltax").value = federalTax;
          document.getElementById("txtstatetax").value = stateTax;
          document.getElementById("txtpaye").value = paye;
          document.getElementById("txtpension").value = pension;
        }
      }

      function calculateTax() {
        fullname = document.getElementById("txtfullname").value;

        grossIncomeYearly = document.getElementById("txtgrossincome").value;
        grossIncomeMonthly =
          document.getElementById("txtgrossincome").value / 12;
        grossIncomeWeekly =
          document.getElementById("txtgrossincome").value / 52;
        grossIncomeDaily =
          document.getElementById("txtgrossincome").value / 365;

        sessionStorage.setItem("effectiveTaxRate", effectiveTaxRate);

        sessionStorage.setItem("fullname", fullname);

        // Store values in sessionState for yearly
        if (cbostate.value == "Arizona") {
          // Store values in session state
          sessionStorage.setItem("fullname", fullname);
          sessionStorage.setItem("grossIncomeYearly", grossIncomeYearly);
          sessionStorage.setItem(
            "federalTaxYearly",
            federalTax * grossIncomeYearly
          );
          sessionStorage.setItem(
            "stateTaxYearly",
            stateTax * grossIncomeYearly
          );
          sessionStorage.setItem("payeYearly", paye * grossIncomeYearly);
          sessionStorage.setItem("pensionYearly", pension * grossIncomeYearly);
          sessionStorage.setItem(
            "medicareYearly",
            medicare * grossIncomeYearly
          );
          window.location = "summary.html";
        } else if (cbostate.value == "Texas") {
          // Store values in session state
          sessionStorage.setItem("fullname", fullname);
          sessionStorage.setItem("grossIncomeYearly", grossIncomeYearly);
          sessionStorage.setItem(
            "federalTaxYearly",
            federalTax * grossIncomeYearly
          );
          sessionStorage.setItem(
            "stateTaxYearly",
            stateTax * grossIncomeYearly
          );
          sessionStorage.setItem("payeYearly", paye * grossIncomeYearly);
          sessionStorage.setItem("pensionYearly", pension * grossIncomeYearly);
          sessionStorage.setItem(
            "medicareYearly",
            medicare * grossIncomeYearly
          );
          window.location = "summary.html";
        } else if (cbostate.value == "New Jersey") {
          // Store values in session state
          sessionStorage.setItem("fullname", fullname);
          sessionStorage.setItem("grossIncomeYearly", grossIncomeYearly);
          sessionStorage.setItem(
            "federalTaxYearly",
            federalTax * grossIncomeYearly
          );
          sessionStorage.setItem(
            "stateTaxYearly",
            stateTax * grossIncomeYearly
          );
          sessionStorage.setItem("payeYearly", paye * grossIncomeYearly);
          sessionStorage.setItem("pensionYearly", pension * grossIncomeYearly);
          sessionStorage.setItem(
            "medicareYearly",
            medicare * grossIncomeYearly
          );
          window.location = "summary.html";
        }

        // Store values in sessionState for monthly
        if (cbostate.value == "Arizona") {
          // Store values in session state
          sessionStorage.setItem("fullname", fullname);
          sessionStorage.setItem("grossIncomeMonthly", grossIncomeMonthly);
          sessionStorage.setItem(
            "federalTaxMonthly",
            federalTax * grossIncomeMonthly
          );
          sessionStorage.setItem(
            "stateTaxMonthly",
            stateTax * grossIncomeMonthly
          );
          sessionStorage.setItem("payeMonthly", paye * grossIncomeMonthly);
          sessionStorage.setItem(
            "pensionMonthly",
            pension * grossIncomeMonthly
          );
          sessionStorage.setItem(
            "medicareMonthly",
            medicare * grossIncomeMonthly
          );
          window.location = "summary.html";
        } else if (cbostate.value == "Texas") {
          // Store values in session state
          sessionStorage.setItem("fullname", fullname);
          sessionStorage.setItem("grossIncomeMonthly", grossIncomeMonthly);
          sessionStorage.setItem(
            "federalTaxMonthly",
            federalTax * grossIncomeMonthly
          );
          sessionStorage.setItem(
            "stateTaxMonthly",
            stateTax * grossIncomeMonthly
          );
          sessionStorage.setItem("payeMonthly", paye * grossIncomeMonthly);
          sessionStorage.setItem(
            "pensionMonthly",
            pension * grossIncomeMonthly
          );
          sessionStorage.setItem(
            "medicareMonthly",
            medicare * grossIncomeMonthly
          );
          window.location = "summary.html";
        } else if (cbostate.value == "New Jersey") {
          // Store values in session state
          sessionStorage.setItem("fullname", fullname);
          sessionStorage.setItem("grossIncomeMonthly", grossIncomeMonthly);
          sessionStorage.setItem(
            "federalTaxMonthly",
            federalTax * grossIncomeMonthly
          );
          sessionStorage.setItem(
            "stateTaxMonthly",
            stateTax * grossIncomeMonthly
          );
          sessionStorage.setItem("payeMonthly", paye * grossIncomeMonthly);
          sessionStorage.setItem(
            "pensionMonthly",
            pension * grossIncomeMonthly
          );
          sessionStorage.setItem(
            "medicareMonthly",
            medicare * grossIncomeMonthly
          );
          window.location = "summary.html";
        }

        // Store values in sessionState for weekly
        if (cbostate.value == "Arizona") {
          // Store values in session state
          sessionStorage.setItem("fullname", fullname);
          sessionStorage.setItem("grossIncomeWeekly", grossIncomeWeekly);
          sessionStorage.setItem(
            "federalTaxWeekly",
            federalTax * grossIncomeWeekly
          );
          sessionStorage.setItem(
            "stateTaxWeekly",
            stateTax * grossIncomeWeekly
          );
          sessionStorage.setItem("payeWeekly", paye * grossIncomeWeekly);
          sessionStorage.setItem("pensionWeekly", pension * grossIncomeWeekly);
          sessionStorage.setItem(
            "medicareWeekly",
            medicare * grossIncomeWeekly
          );
          window.location = "summary.html";
        } else if (cbostate.value == "Texas") {
          // Store values in session state
          sessionStorage.setItem("fullname", fullname);
          sessionStorage.setItem("grossIncomeWeekly", grossIncomeWeekly);
          sessionStorage.setItem(
            "federalTaxWeekly",
            federalTax * grossIncomeWeekly
          );
          sessionStorage.setItem(
            "stateTaxWeekly",
            stateTax * grossIncomeWeekly
          );
          sessionStorage.setItem("payeWeekly", paye * grossIncomeWeekly);
          sessionStorage.setItem("pensionWeekly", pension * grossIncomeWeekly);
          sessionStorage.setItem(
            "medicareWeekly",
            medicare * grossIncomeWeekly
          );
          window.location = "summary.html";
        } else if (cbostate.value == "New Jersey") {
          // Store values in session state
          sessionStorage.setItem("fullname", fullname);
          sessionStorage.setItem("grossIncomeWeekly", grossIncomeWeekly);
          sessionStorage.setItem(
            "federalTaxWeekly",
            federalTax * grossIncomeWeekly
          );
          sessionStorage.setItem(
            "stateTaxWeekly",
            stateTax * grossIncomeWeekly
          );
          sessionStorage.setItem("payeWeekly", paye * grossIncomeWeekly);
          sessionStorage.setItem("pensionWeekly", pension * grossIncomeWeekly);
          sessionStorage.setItem(
            "medicareWeekly",
            medicare * grossIncomeWeekly
          );
          window.location = "summary.html";
        }

        // Store values in sessionState for daily
        if (cbostate.value == "Arizona") {
          // Store values in session state
          sessionStorage.setItem("fullname", fullname);
          sessionStorage.setItem("grossIncomeDaily", grossIncomeDaily);
          sessionStorage.setItem(
            "federalTaxDaily",
            federalTax * grossIncomeDaily
          );
          sessionStorage.setItem("stateTaxDaily", stateTax * grossIncomeDaily);
          sessionStorage.setItem("payeDaily", paye * grossIncomeDaily);
          sessionStorage.setItem("pensionDaily", pension * grossIncomeDaily);
          sessionStorage.setItem("medicareDaily", medicare * grossIncomeDaily);
          window.location = "summary.html";
        } else if (cbostate.value == "Texas") {
          // Store values in session state
          sessionStorage.setItem("fullname", fullname);
          sessionStorage.setItem("grossIncomeDaily", grossIncomeDaily);
          sessionStorage.setItem(
            "federalTaxDaily",
            federalTax * grossIncomeDaily
          );
          sessionStorage.setItem("stateTaxDaily", stateTax * grossIncomeDaily);
          sessionStorage.setItem("payeDaily", paye * grossIncomeDaily);
          sessionStorage.setItem("pensionDaily", pension * grossIncomeDaily);
          sessionStorage.setItem("medicareDaily", medicare * grossIncomeDaily);
          window.location = "summary.html";
        } else if (cbostate.value == "New Jersey") {
          // Store values in session state
          sessionStorage.setItem("fullname", fullname);
          sessionStorage.setItem("grossIncomeDaily", grossIncomeDaily);
          sessionStorage.setItem(
            "federalTaxDaily",
            federalTax * grossIncomeDaily
          );
          sessionStorage.setItem("stateTaxDaily", stateTax * grossIncomeDaily);
          sessionStorage.setItem("payeDaily", paye * grossIncomeDaily);
          sessionStorage.setItem("pensionDaily", pension * grossIncomeDaily);
          sessionStorage.setItem("medicareDaily", medicare * grossIncomeDaily);
          window.location = "summary.html";
        }
      }
    </script>
    <div class="container mt-5" style="width: 60%">
      <header class="text-center my-3">
        <h3>Enter Personal Details</h3>
      </header>

      <section class="mx-auto">
        <div class="row mx-auto">
          <div class="col-md-4" id="">Full Name</div>
          <div class="col-md-8">
            <input
              type="text"
              name="name"
              id="txtfullname"
              class="form-control"
            />
          </div>
          <div class="col-md-4">Select City</div>
          <div class="col-md-8">
            <select
              type="text"
              name="city"
              id="cbostate"
              class="form-control"
              onchange="getDeductions()"
            >
              <option value="">Please Select</option>
              <option value="Arizona">Arizona</option>
              <option value="Texas">Texas</option>
              <option value="New Jersey">New Jersey</option>
            </select>
          </div>
        </div>
      </section>

      <header class="text-center mt-5 mb-3">
        <h3>Compulsory Deductions</h3>
      </header>

      <section class="mx-auto">
        <div class="row mx-auto">
          <div class="col-md-4">Federal Tax (%)</div>
          <div class="col-md-8">
            <input
              type="text"
              name="name"
              id="txtfederaltax"
              class="form-control"
            />
          </div>
          <div class="col-md-4">State Tax (%)</div>
          <div class="col-md-8">
            <input
              type="text"
              name="name"
              id="txtstatetax"
              class="form-control"
            />
          </div>
          <div class="col-md-4">PAYE (%)</div>
          <div class="col-md-8">
            <input type="text" name="name" id="txtpaye" class="form-control" />
          </div>
          <div class="col-md-4">Compulsory Pension Fund (%)</div>
          <div class="col-md-8">
            <input
              type="text"
              name="name"
              id="txtpension"
              class="form-control"
            />
          </div>
        </div>
      </section>

      <header class="text-center mt-5 mb-3">
        <h3>Yearly Gross Salary</h3>
      </header>

      <section class="mx-auto">
        <div class="row mx-auto">
          <div class="col-md-4">Gross Income (%)</div>
          <div class="col-md-8">
            <input
              type="text"
              name="name"
              id="txtgrossincome"
              class="form-control"
            />
          </div>
        </div>

        <div class="col-md-12 mx-auto p-3">
          <button
            class="btn btn-secondary"
            id="btncalculatetax"
            onclick="calculateTax()"
          >
            <i class="fa fa-calculator"></i> Calculate Tax
          </button>
        </div>
      </section>
    </div>
    <hr />
    <footer class="text-center mb-3">Copyright &copy 2020</footer>

    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script src="js/bootstrap.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
